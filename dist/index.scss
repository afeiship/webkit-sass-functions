/*!
 * name: @feizheng/webkit-sass-functions
 * description: Webkit sass functions.
 * homepage: https://github.com/afeiship/webkit-sass-functions
 * version: 2.0.1
 * date: 2020-10-17T09:47:02.736Z
 * license: MIT
 */

/*black Start*/
@function black($opacity) {
  @return rgba(black, $opacity);
}
/*black End*/

/*debug Start*/
@function debug($list) {
  $result: #{"[ "};

  @each $item in $list {
    @if length($item) > 1 {
      $result: $result#{debug($item)};
    }
    @else {
      $result: $result#{$item};
    }
    @if index($list, $item) != length($list) {
      $result: $result#{", "};
    }
  }

  $result: $result#{" ]"};

  @return $result;
}
/*debug End*/

/*dynamic-text-color Start*/
// http://thesassway.com/intermediate/dynamically-change-text-color-based-on-its-background-with-sass

@function dynamic-text-color($color) {
  @if (lightness($color) > 50) {
    @return #000000; // Lighter backgorund, return dark color
  } @else {
    @return #ffffff; // Darker background, return light color
  }
}
/*dynamic-text-color End*/


/*first Start*/
@function first($list) {
  @return nth($list, 1);
}
/*first End*/

/*generate-list Start*/
@function generate-list( $from:0, $to:9 ) {
  $list: ();
  @for $i from $from through $to {
    $list: append($list, $i);
  }
  @return $list;
}
/*generate-list End*/

/*last Start*/
@function last($list) {
  @return nth($list, length($list));
}
/*last End*/

/*map-deep-get Start*/

// https://www.sitepoint.com/extra-map-functions-sass/
// https://codepen.io/jakealbaugh/post/using-sass-functions-to-access-complex-variable-maps

@function map-deep-get($map, $keys...) {
  @each $key in $keys {
    $map: map-get($map, $key);
  }
  @return $map;
}
/*map-deep-get End*/

@function map-get-path($inMap, $inPath) {
  @return $inMap;
}

// @thanks to: https://css-tricks.com/snippets/sass/power-function/
@function pow($inValue, $inExponent) {
  $value: 1;
  $exponent: abs($inExponent);

  @for $i from 1 through $exponent {
    $value: $value * $inValue;
  }

  @if $inExponent > 0 {
    @return $value;
  } @else {
    @return 1 / $value;
  }
}

/*purge Start*/
@function purge($list) {
  $result: ();

  @each $item in $list {
    @if $item != null
    and $item != false
    and $item != "" {
      $result: append($result, $item);
    }
  }

  @return $result;
}
/*purge End*/

/*rem Start*/
@function to-rem-value($inValue,$rem) {
  @if $rem == px {
    @return #{$inValue}px;
  } @else {
    @return #{$inValue/$rem}rem;
  }
}

/*rem End*/

/*remove-duplicates Start*/
@function remove-duplicates($list, $recursive: false) {
  $result: ();

  @each $item in $list {
    @if not index($result, $item) {
      @if length($item) > 1 and $recursive {
        $result: append($result, remove-duplicates($item, $recursive));
      }
      @else {
        $result: append($result, $item);
      }
    }
  }

  @return $result;
}
/*remove-duplicates End*/

/*rpx Start*/
@function to-rpx-value($inValue) {
  @return #{$inValue*2}rpx;
}

@function rpx($inValue) {
  @return $inValue * 1rpx;
}

/*rpx End*/

// https://hugogiraudel.com/2013/08/08/advanced-sass-list-functions/
@function slice($list, $start: 1, $end: length($list)) {
  $result: null;

  @if type-of($start) != number or type-of($end) != number {
    @warn "Either $start or $end are not a number for `slice`.";
  } @else if $start > $end {
    @warn "The start index has to be lesser than or equals to the end index for `slice`.";
  } @else if $start < 1 or $end < 1 {
    @warn "List indexes must be non-zero integers for `slice`.";
  } @else if $start > length($list) {
    @warn "List index is #{$start} but list is only #{length($list)} item long for `slice`.";
  } @else if $end > length($list) {
    @warn "List index is #{$end} but list is only #{length($list)} item long for `slice`.";
  } @else {
    $result: ();

    @for $i from $start through $end {
      $result: append($result, nth($list, $i));
    }
  }
  @return $result;
}

// square root function using the Babylonian method
// https://gist.github.com/ryanjafari/bf752b6ef52726352239
// http://en.wikipedia.org/wiki/Methods_of_computing_square_roots#Babylonian_method
@function sqrt($square, $tolerance: 0.001, $estimate: $square/2) {
  @if abs($square - $estimate * $estimate) < $tolerance {
    @return $estimate;
  }

  @return sqrt($square, $tolerance, ($estimate + $square/$estimate)/2);
}

// https://stackoverflow.com/questions/32376461/how-to-split-a-string-into-two-lists-of-numbers-in-sass

@function str-split($string, $separator) {
  // empty array/list
  $split-arr: ();
  // first index of separator in string
  $index: str-index($string, $separator);
  // loop through string
  @while $index != null {
    // get the substring from the first character to the separator
    $item: str-slice($string, 1, $index - 1);
    // push item to array
    $split-arr: append($split-arr, $item);
    // remove item and separator from string
    $string: str-slice($string, $index + 1);
    // find new index of separator
    $index: str-index($string, $separator);
  }
  // add the remaining string to list (the last item)
  $split-arr: append($split-arr, $string);

  @return $split-arr;
}

/*strip-units Start*/
// https://css-tricks.com/snippets/sass/strip-unit-function/
@function strip-units($inNumber){
	@return $inNumber / ($inNumber * 0 + 1);
}
/*strip-units End*/
